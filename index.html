<!DOCTYPE html>
<html>
<head>
	<title>Mali Health Sites Map</title>
	<script src='https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.js'></script>
	<link href='https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.css' rel='stylesheet' />
	<script src="https://cdn.jsdelivr.net/npm/@turf/turf@5/turf.min.js"></script>
	<style>
		body {
			margin: 0px;
		}

		h1 {
			float: left;
			padding-left: 10px;
			font-family: Helvetica, Arial, Verdana;
      font-size: 42px
    }

    p {
      font-family: Helvetica, Arial, Verdana;
      font-size: 18px;
			padding-left: 10px;
    }

		#wrapper {
			width: 800px;
		}

		#map {
			width: 780px;
			margin: 0 auto;
			height: 500px;
		}

		#controls {
			width: 100%;
			margin: 0 auto;
			padding: 15px;
		}

		#narrative {
			width: 780px;
			height: 500px;
			margin: 0 auto;
			padding: 15px;
		}

		#header {
			margin-top: 0px;
			margin-bottom: 0px;
		}
	</style>
</head>
<body>
	<!-- Web map & content will go here.  -->
	<div id="wrapper">
		<div id="header">
			<h1>Malnutrition & Health Sites in Mali</h1>
		</div>
		<div id="map"></div>
		<div id="controls">
			<!-- Here is the code for a button if we were going to add them.
			<button class="button" id="toggleButton">BUTTON!</button>
			-->
			<div id="narrative"><p>You can put narrative text or explanation here.</p></div>
		</div>
	</div>
	<script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src='https://api.mapbox.com/mapbox-gl-js/v1.11.1/mapbox-gl.js'></script>
	<script>
    	// Create Map Object
    	var map = L.map('map',{ center: [-3.87472, 17.98777], zoom: 6 });

    	// Add Tile Layer

			mapboxgl.accessToken = 'pk.eyJ1Ijoic3JlYXVsdCIsImEiOiJja25qYXF4OGMwODlwMm9tMmF3a2V5cHh5In0.rmpWlPsAnyN1YBg4XTJQug';
	    var map = new mapboxgl.Map({
	      container: 'map',
	      style: 'mapbox://styles/sreault/ckoegytgj3qaw17ryyul7fzue', // imagery basemap - you may choose something else
	      center: [-3.87472, 17.98777], // starting position at Zaatari Camp
	      zoom: 6, // starting zoom
				infoControl: false,
				attributionControl: false
				});

		// Add GeoJSON Data
		// Null variable that will hold Healthsites data
		// Null variable that will hold Healthsites data
		var Healthsites = null;

		// Add GeoJSON Data to the map when it loads
		$.getJSON("https://raw.githubusercontent.com/sreault/studio-week6/main/data/Mali_healthsites.geojson",function(data){
		    // set Healthsites to the dataset and add the Healthsites GeoJSON layer to the map
		    Healthsites = L.geoJson(data,{onEachFeature: function (feature, layer) {
					layer.bindPopup("<strong>" + feature.properties.Name + "</strong><br/>" + feature.properties.amenity + "amenity"); // What's missing here?
				}
			}).addTo(map);
		});

		// Create Custom Icons Here

		// Add Admin unit Polygons

		// Create Leaflet Control Object for Legend

		// Add Scale Bar to Map


	</script>
</body>
</html>
